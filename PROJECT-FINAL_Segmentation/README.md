# Реальный проект. Сегментация с последующей классификацией товара.

## Содержание проекта 
### Создание модели с автоматическими сегментами
1. Знакомство с данными
2. Обработка пропусков
3. Базовая модель (baseline)
4. Нетиповое решение сегментации
5. Создание сегментов
6. Блок настройки данных для последующей классификации нового товара.
7. Итоги

### Классификация нового товара по рассчитанным ранее сегментам
1. Загрузка исходников
2. Основные настройки и предустановки
3. Скрипт алгоритма классификации
4. Итоги

### Описание проекта    
**Бизнес-задача**: произвести сегментацию товарных категорий на 3 уровня глубины. Первый уровень - это "сегмент", в него агрегируется товар со схожими основными техническими характеристиками. Далее сегмент делится на "кластеры" - это второй уровень, на котором добавляеся схожесть по дополнительным характерстикам. А кластеры должны состоять из "ячеек", в которых находится взаимозаменямый товар. Полученные сегменты в дальнейшем будут использоваться для решения задач закупа и наполнения розничной сети.

**Технические задачи** 
1. Разработать алгоритм отбора наиболее подходящих технических характеристик для сегментации.
2. Произвести сегментацию по отобранным характеристикам.
3. Выгрузить модель данных в Excel для возможности оценки модели заказчиком.
4. Подготовить таблицу - справочник сегментов (для дальнейшей интеграции в 1С)
5. Настроить процесс классификации нового товара по сегментам из справочника.
6. Подготовить таблицу с результатами классификации.

**Требования к результату** 
1. Модель должна быть легко интерпретируема, любой пользователь должен понимать, почему этот товар находится именно в этом сегменте.
2. Сегмент первого уровня не должен содержать менее 10 номенклатурных позиций.
3. Справочник сегментов должен строиться только на основании товара с остатками.
4. Классификация по сегментам должна происходить по всей товарной номенклатуре. Если появляется новый товар, для него должны подбираться оптимальные сегменты.


### Исходные данные

**dim_category:**
+ КодКатегории (Код категории товара);
+ Уровень4 (Уровень в иерархии товара, он же категория);

**dim_product:**
+ КодТовара (ID товара);
+ КодКатегории (ID категории);

**dim_product_character:**
+ Код (ID товара);
+ КодХарактеристики (ID характеристики);
+ ВидХарактеристики (наименование вида характеристики);
+ КодКатегории (ID категории);

**hierarchy:**
+ Уровень1 (первый уровень иерархии);
+ Уровень2 (второй уровень иерархии);
+ Уровень3 (третий уровень иерархии);
+ Уровень4 (четвертый уровень иерархии, он же категория);
+ КодКатегории (ID категории);

**product_specifications:**
+ Код (номенклатурный код товара);
+ ВидХарактеристики (наименование вида характеристики);
+ КодВидаХарактеристики (ID вида характеристики);
+ КодХарактеристики (ID характеристики);
+ Характеристика (значение характеристики);
+ Значимость (аналог приоритета характеристики, рассчитанный по другим принципам);

**site_priorities:**
+ Категория (наименование категории);
+ ID характеристики (индивидуальный код характеристики);
+ Название характеристики (наименование характеристики);
+ Приоритет (приоритет характеристики);


**dim_auto_segments:**
+ Сегмент (наименование сегмента, полученного в результате выполнения модели сегментации);
+ Характеристики (список характеристик товаров, входящих в сегмент);
+ КодыХарактеристик (список кодов характеристик, входящих в сегмент);
+ НомерУровня (номер уровня сегмента);
+ КодКатегории (ID категории);
+ Power (плотность сегмента, рассчитанная по количеству совпадающих характеристик);
+ Родитель (наименование родительского уровня сегмента).



### Результаты:  
[Ноутбук: Создание модели с автоматическими сегментами](https://github.com/Viktor-VK/DST-138-Prodjects/blob/main/PROJECT-FINAL_Segmentation/Модель_сегментации.ipynb)
[Ноутбук: Классификация нового товара по рассчитанным ранее сегментам](https://github.com/Viktor-VK/DST-138-Prodjects/blob/main/PROJECT-FINAL_Segmentation/Классификация_по_сегментам.ipynb)
